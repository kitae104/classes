# [강의 요약] 13장. 내부 클래스, 람다식, 스트림

## 🎯 강의 목표
* **내부 클래스의 활용**: 클래스 내부에서만 사용할 클래스를 정의하고 상황에 맞는 유형(인스턴스, 정적, 지역, 익명)을 선택할 수 있다. [cite: 1117, 1118, 1363]
* **함수형 프로그래밍 습득**: 람다식의 문법을 익히고 인터페이스를 통해 함수를 변수처럼 다루는 방식을 이해한다. [cite: 1364, 1365, 1429]
* **스트림 연산 최적화**: 데이터의 필터링, 매핑, 정렬을 스트림의 중간/최종 연산으로 체계화하여 구현한다. [cite: 1485, 1487, 1494]
* **안정적인 null 처리**: `Optional` 클래스를 사용하여 런타임 에러(`NullPointerException`)를 효과적으로 예방한다.

---

## 📝 주요 강의 내용

### 1. 내부 클래스 (Inner Class) 요약 [cite: 1363]
| 종류 | 구현 위치 | 사용 가능한 변수 | 생성 방법 |
| :--- | :--- | :--- | :--- |
| **인스턴스** | 외부 클래스 멤버와 동일 | 외부 인스턴스/정적 변수 | 외부 클래스 생성 후 생성 |
| **정적(static)** | 외부 클래스 멤버와 동일 | 외부 정적 변수 | 외부 클래스 무관하게 생성 |
| **지역(local)** | 메서드 내부 | 외부 인스턴스/정적 변수 | 메서드 호출 시 생성 |
| **익명(anonymous)** | 메서드 내부/변수 대입 | 외부 인스턴스/정적 변수 | 인터페이스/추상클래스 대입 시 |

### 2. 람다식 (Lambda Expression)
* **기본 문법**: `(매개변수) -> {실행문;}` [cite: 1380]
* **제약 사항**: 람다식을 사용하기 위한 인터페이스는 반드시 단 하나의 추상 메서드만 가지는 **함수형 인터페이스**여야 한다.
* **특징**: 클래스 생성 없이 함수 호출만으로 기능을 수행하며, 외부에 영향을 주지 않는 순수 함수를 지향한다. [cite: 1366, 1368, 1369]

### 3. 스트림 (Stream) 처리
* **특징**: 기존 자료를 변경하지 않는 별도 메모리 공간을 사용하며(일관성), 최종 연산 전까지 중간 연산이 지연되는 특징이 있다. [cite: 1487, 1491, 1496, 1497]
* **주요 중간 연산**:
    * `filter()`: 조건에 맞는 요소 선별 [cite: 1524, 1525]
    * `map()`: 요소에서 특정 속성 추출 또는 변환 [cite: 1538, 1539]
    * `sorted()`: 요소 정렬 [cite: 1582, 1583]
* **주요 최종 연산**:
    * `reduce()`: 프로그래머가 직접 정의한 기능으로 요소 소모 및 결과 반환 [cite: 1703, 1704, 1705]
    * `collect()`: 스트림 결과를 다시 리스트나 배열로 변환 [cite: 1682, 1683]

### 4. Optional 클래스
* **사용 이유**: 값이 존재하지 않을 때 발생하는 `NullPointerException`을 방지하고 코드 가독성을 높이기 위함이다. [cite: 1820, 1822]
* **핵심 메서드**:
    * `ifPresent(action)`: 값이 있을 때만 실행
    * `orElse(default)`: 값이 없으면 기본값 반환 [cite: 1867, 1892]
    * `orElseThrow(exception)`: 값이 없으면 예외 던지기 [cite: 1867, 1899]

---

## 🚀 수업 후 할 수 있는 일
* **데이터 필터링 시스템**: `customerList.stream().filter(c -> c.getAge() >= 20).sorted().map(c -> c.getName())`와 같은 체이닝으로 20세 이상 고객의 이름을 정렬하여 출력할 수 있다. [cite: 1805, 1806]
* **함수형 API 설계**: 매개변수로 람다식을 받는 메서드를 작성하여 기능의 유연한 확장을 꾀할 수 있다. [cite: 1454, 1455]
* **안전한 데이터 조회**: DB 검색 결과가 `null`일 수 있는 상황에서 `Optional.ofNullable()`을 적용해 예외 상황을 유연하게 제어할 수 있다. [cite: 1821, 1822, 1855]